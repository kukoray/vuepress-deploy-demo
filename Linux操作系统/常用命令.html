<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>linux常用命令 | JACKY</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="icon" href="/images/logo.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.6d855320.js" as="script"><link rel="preload" href="/assets/js/2.d4ff5c60.js" as="script"><link rel="preload" href="/assets/js/9.1ad63360.js" as="script"><link rel="prefetch" href="/assets/js/10.0677b883.js"><link rel="prefetch" href="/assets/js/100.47224151.js"><link rel="prefetch" href="/assets/js/101.e068f649.js"><link rel="prefetch" href="/assets/js/102.2216aa0a.js"><link rel="prefetch" href="/assets/js/103.1274fdb9.js"><link rel="prefetch" href="/assets/js/104.3894d45f.js"><link rel="prefetch" href="/assets/js/105.c45ae0dd.js"><link rel="prefetch" href="/assets/js/106.1ea76166.js"><link rel="prefetch" href="/assets/js/107.e9e69cdf.js"><link rel="prefetch" href="/assets/js/108.86dc789c.js"><link rel="prefetch" href="/assets/js/109.dff0ff70.js"><link rel="prefetch" href="/assets/js/11.0ce9576d.js"><link rel="prefetch" href="/assets/js/110.3a698495.js"><link rel="prefetch" href="/assets/js/111.8fc0aa53.js"><link rel="prefetch" href="/assets/js/112.aebd4f61.js"><link rel="prefetch" href="/assets/js/113.ac824a62.js"><link rel="prefetch" href="/assets/js/114.09b2f358.js"><link rel="prefetch" href="/assets/js/115.31a681fc.js"><link rel="prefetch" href="/assets/js/116.2eb333c2.js"><link rel="prefetch" href="/assets/js/117.45d3427d.js"><link rel="prefetch" href="/assets/js/118.313f7765.js"><link rel="prefetch" href="/assets/js/119.985d374f.js"><link rel="prefetch" href="/assets/js/12.809e25a2.js"><link rel="prefetch" href="/assets/js/120.41447dc4.js"><link rel="prefetch" href="/assets/js/121.f014baf8.js"><link rel="prefetch" href="/assets/js/122.097f6079.js"><link rel="prefetch" href="/assets/js/123.afc6a702.js"><link rel="prefetch" href="/assets/js/124.01d724f7.js"><link rel="prefetch" href="/assets/js/125.c9dc4beb.js"><link rel="prefetch" href="/assets/js/126.d5b795cb.js"><link rel="prefetch" href="/assets/js/127.ca74f94d.js"><link rel="prefetch" href="/assets/js/128.d2da9329.js"><link rel="prefetch" href="/assets/js/129.c8717ca5.js"><link rel="prefetch" href="/assets/js/13.152c7e44.js"><link rel="prefetch" href="/assets/js/14.1e51776e.js"><link rel="prefetch" href="/assets/js/15.baa617fb.js"><link rel="prefetch" href="/assets/js/16.f85fffe6.js"><link rel="prefetch" href="/assets/js/17.e6803744.js"><link rel="prefetch" href="/assets/js/18.6d74ca46.js"><link rel="prefetch" href="/assets/js/19.ab7532ab.js"><link rel="prefetch" href="/assets/js/20.be01556b.js"><link rel="prefetch" href="/assets/js/21.d9aded00.js"><link rel="prefetch" href="/assets/js/22.59fd96e2.js"><link rel="prefetch" href="/assets/js/23.575b0571.js"><link rel="prefetch" href="/assets/js/24.d7911b48.js"><link rel="prefetch" href="/assets/js/25.ee1ddc47.js"><link rel="prefetch" href="/assets/js/26.2645d0d2.js"><link rel="prefetch" href="/assets/js/27.b445999f.js"><link rel="prefetch" href="/assets/js/28.e93df91c.js"><link rel="prefetch" href="/assets/js/29.2e9e94e3.js"><link rel="prefetch" href="/assets/js/3.cce6fa70.js"><link rel="prefetch" href="/assets/js/30.c46c1576.js"><link rel="prefetch" href="/assets/js/31.d700821d.js"><link rel="prefetch" href="/assets/js/32.4017f172.js"><link rel="prefetch" href="/assets/js/33.c2f92eee.js"><link rel="prefetch" href="/assets/js/34.384d918e.js"><link rel="prefetch" href="/assets/js/35.9c122bb0.js"><link rel="prefetch" href="/assets/js/36.4ee62a31.js"><link rel="prefetch" href="/assets/js/37.cc538cd0.js"><link rel="prefetch" href="/assets/js/38.66fe6d97.js"><link rel="prefetch" href="/assets/js/39.62865922.js"><link rel="prefetch" href="/assets/js/4.ba8c4904.js"><link rel="prefetch" href="/assets/js/40.18d8b6ea.js"><link rel="prefetch" href="/assets/js/41.df0d8cab.js"><link rel="prefetch" href="/assets/js/42.2c76aec4.js"><link rel="prefetch" href="/assets/js/43.35b2ed84.js"><link rel="prefetch" href="/assets/js/44.7832dc93.js"><link rel="prefetch" href="/assets/js/45.bda8de55.js"><link rel="prefetch" href="/assets/js/46.6dfbc71d.js"><link rel="prefetch" href="/assets/js/47.ce3854ed.js"><link rel="prefetch" href="/assets/js/48.a0914b71.js"><link rel="prefetch" href="/assets/js/49.f409f02c.js"><link rel="prefetch" href="/assets/js/5.ebbfaeab.js"><link rel="prefetch" href="/assets/js/50.4f56073a.js"><link rel="prefetch" href="/assets/js/51.876c612d.js"><link rel="prefetch" href="/assets/js/52.d1cb790e.js"><link rel="prefetch" href="/assets/js/53.0e7bdacf.js"><link rel="prefetch" href="/assets/js/54.69554266.js"><link rel="prefetch" href="/assets/js/55.e91b1adb.js"><link rel="prefetch" href="/assets/js/56.629bc4a4.js"><link rel="prefetch" href="/assets/js/57.dd0e1f38.js"><link rel="prefetch" href="/assets/js/58.6210b964.js"><link rel="prefetch" href="/assets/js/59.3171311f.js"><link rel="prefetch" href="/assets/js/6.319d6800.js"><link rel="prefetch" href="/assets/js/60.f28df51c.js"><link rel="prefetch" href="/assets/js/61.9d91b4cf.js"><link rel="prefetch" href="/assets/js/62.64dca654.js"><link rel="prefetch" href="/assets/js/63.2422c5f1.js"><link rel="prefetch" href="/assets/js/64.2a1e3d2b.js"><link rel="prefetch" href="/assets/js/65.f58499a8.js"><link rel="prefetch" href="/assets/js/66.c0efeb82.js"><link rel="prefetch" href="/assets/js/67.661d7923.js"><link rel="prefetch" href="/assets/js/68.dfab90f4.js"><link rel="prefetch" href="/assets/js/69.d9aed373.js"><link rel="prefetch" href="/assets/js/7.b1af566c.js"><link rel="prefetch" href="/assets/js/70.42a55bd7.js"><link rel="prefetch" href="/assets/js/71.26f59ddc.js"><link rel="prefetch" href="/assets/js/72.08c4a8c5.js"><link rel="prefetch" href="/assets/js/73.3f37d91a.js"><link rel="prefetch" href="/assets/js/74.e351145c.js"><link rel="prefetch" href="/assets/js/75.f4de590b.js"><link rel="prefetch" href="/assets/js/76.67c626c7.js"><link rel="prefetch" href="/assets/js/77.f1130886.js"><link rel="prefetch" href="/assets/js/78.778d639c.js"><link rel="prefetch" href="/assets/js/79.86f9f4d3.js"><link rel="prefetch" href="/assets/js/8.3b56d639.js"><link rel="prefetch" href="/assets/js/80.4ee16963.js"><link rel="prefetch" href="/assets/js/81.01badefa.js"><link rel="prefetch" href="/assets/js/82.4613395c.js"><link rel="prefetch" href="/assets/js/83.03b7e3d1.js"><link rel="prefetch" href="/assets/js/84.a8ed7238.js"><link rel="prefetch" href="/assets/js/85.d0a23cae.js"><link rel="prefetch" href="/assets/js/86.47c348c3.js"><link rel="prefetch" href="/assets/js/87.7103da76.js"><link rel="prefetch" href="/assets/js/88.03092892.js"><link rel="prefetch" href="/assets/js/89.9e2e01ba.js"><link rel="prefetch" href="/assets/js/90.bc109fb6.js"><link rel="prefetch" href="/assets/js/91.edd4ee6f.js"><link rel="prefetch" href="/assets/js/92.47eef26d.js"><link rel="prefetch" href="/assets/js/93.f3dd468d.js"><link rel="prefetch" href="/assets/js/94.5928d8ae.js"><link rel="prefetch" href="/assets/js/95.a7a96583.js"><link rel="prefetch" href="/assets/js/96.b8df9976.js"><link rel="prefetch" href="/assets/js/97.3200a463.js"><link rel="prefetch" href="/assets/js/98.29d61ae7.js"><link rel="prefetch" href="/assets/js/99.25ff9892.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">JACKY</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">/</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Linux操作系统</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Linux操作系统/linux.html" class="sidebar-link">Linux手册</a></li><li><a href="/Linux操作系统/shell编程.html" class="sidebar-link">shell编程</a></li><li><a href="/Linux操作系统/常用命令.html" class="active sidebar-link">linux常用命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#lsof" class="sidebar-link">lsof</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#rm" class="sidebar-link">rm</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#mkdir" class="sidebar-link">mkdir</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#echo" class="sidebar-link">echo</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#conda" class="sidebar-link">conda</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#df" class="sidebar-link">df</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#du" class="sidebar-link">du</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#ps" class="sidebar-link">ps</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#grep" class="sidebar-link">grep</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#xargs" class="sidebar-link">xargs</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#ulimit" class="sidebar-link">ulimit</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#scp" class="sidebar-link">scp</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#sftp" class="sidebar-link">sftp</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#netstat" class="sidebar-link">netstat</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#lsof-2" class="sidebar-link">lsof</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#tcpdump" class="sidebar-link">tcpdump</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#tail" class="sidebar-link">tail</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#vim" class="sidebar-link">vim</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#nohup" class="sidebar-link">nohup</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#telnet" class="sidebar-link">telnet</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#perf" class="sidebar-link">perf</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#pidof" class="sidebar-link">pidof</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#uname" class="sidebar-link">uname</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#mkdir-2" class="sidebar-link">mkdir</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#awk" class="sidebar-link">awk</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#sed" class="sidebar-link">sed</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#iperf" class="sidebar-link">iperf</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#tar" class="sidebar-link">tar</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#pstack" class="sidebar-link">pstack</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#gdb" class="sidebar-link">gdb</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#kill" class="sidebar-link">kill</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#core" class="sidebar-link">core</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#ssh" class="sidebar-link">ssh</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#etc-profile" class="sidebar-link">/etc/profile</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#etc-hosts" class="sidebar-link">/etc/hosts</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#git" class="sidebar-link">git</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#vim-2" class="sidebar-link">vim</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#md5sum" class="sidebar-link">md5sum</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#tar-2" class="sidebar-link">tar</a></li><li class="sidebar-sub-header"><a href="/Linux操作系统/常用命令.html#sed-2" class="sidebar-link">sed</a></li></ul></li><li><a href="/Linux操作系统/自动打卡脚本总结.html" class="sidebar-link">自动打卡脚本</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>专业课</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>机器学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>深度学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>硬件设计</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法与数据结构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>编程语言</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>联邦学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>软件开发</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="linux常用命令"><a href="#linux常用命令" class="header-anchor">#</a> linux常用命令</h1> <h2 id="lsof"><a href="#lsof" class="header-anchor">#</a> lsof</h2> <p>查看服务器 8000 端口的占用情况：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">lsof</span> -i:8000
</code></pre></div><h2 id="rm"><a href="#rm" class="header-anchor">#</a> rm</h2> <ul><li>-r 将目录及以下之档案亦逐一删除。（递归删除）</li></ul> <h2 id="mkdir"><a href="#mkdir" class="header-anchor">#</a> mkdir</h2> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">mkdir</span> -p runoob2/test
-p 递归创建，如果没有runoob2文件夹，就会创建；
</code></pre></div><h2 id="echo"><a href="#echo" class="header-anchor">#</a> echo</h2> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token builtin class-name">echo</span> -e <span class="token string">&quot;OK! <span class="token entity" title="\c">\c</span>&quot;</span> <span class="token comment"># -e 开启转义 \c 不换行</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;It is a test&quot;</span>
</code></pre></div><p>显示执行结果</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">date</span><span class="token variable">`</span></span>
</code></pre></div><h2 id="conda"><a href="#conda" class="header-anchor">#</a> conda</h2> <ul><li>更新软件：conda update 软件名</li> <li>卸载软件：conda remove 软件名</li> <li>删除环境：conda remove -n 环境名</li> <li>克隆环境：conda create –n 新环境名 –clone 旧环境名</li></ul> <p>（克隆就是备用的，如果发现新的好用的环境）</p> <ul><li>查找软件：conda search 软件名</li></ul> <p>（查找用得最多）
注意：以上的操作要在小环境里</p> <p>一次性安装多个库</p> <div class="language-text extra-class"><pre class="language-text"><code>conda install -y trim-galore  hisat2  subread  multiqc  samtools  salmon  fastp
</code></pre></div><p>conda config --show</p> <h2 id="df"><a href="#df" class="header-anchor">#</a> df</h2> <h2 id="du"><a href="#du" class="header-anchor">#</a> du</h2> <p>查看文件夹占用磁盘大小，常用方法</p> <p>du  -sh</p> <h2 id="ps"><a href="#ps" class="header-anchor">#</a> ps</h2> <p>ps aux | grep ctjia | grep dolphindb</p> <h2 id="grep"><a href="#grep" class="header-anchor">#</a> grep</h2> <p>grep &quot;xsaasa&quot;  dolphindb.log | wc -l</p> <p>统计dolphindb.log 文件中xsaasa的出现行数</p> <p>grep -c  &quot;xsaasa&quot;  dolphindb.log</p> <h2 id="xargs"><a href="#xargs" class="header-anchor">#</a> xargs</h2> <h2 id="ulimit"><a href="#ulimit" class="header-anchor">#</a> ulimit</h2> <p>ulimit -a</p> <p>ulimit -c</p> <h2 id="scp"><a href="#scp" class="header-anchor">#</a> scp</h2> <h2 id="sftp"><a href="#sftp" class="header-anchor">#</a> sftp</h2> <p>sftp   root@120.48.33.220</p> <p>sftp使用的是ssh相同的22端口，可以直接下载服务器上的文件到本地</p> <h2 id="netstat"><a href="#netstat" class="header-anchor">#</a> netstat</h2> <p>netstat -ntlp</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">netstat</span> -tunlp <span class="token operator">|</span> <span class="token function">grep</span> 端口号
</code></pre></div><ul><li>-t (tcp) 仅显示tcp相关选项</li> <li>-u (udp)仅显示udp相关选项</li> <li>-n 拒绝显示别名，能显示数字的全部转化为数字</li> <li>-l 仅列出在Listen(监听)的服务状态</li> <li>-p 显示建立相关链接的程序名</li></ul> <h2 id="lsof-2"><a href="#lsof-2" class="header-anchor">#</a> lsof</h2> <p>lsof -i:8903</p> <p>lsof -p PID</p> <h2 id="tcpdump"><a href="#tcpdump" class="header-anchor">#</a> tcpdump</h2> <h2 id="tail"><a href="#tail" class="header-anchor">#</a> tail</h2> <p>tail -f  XXX.log</p> <h2 id="vim"><a href="#vim" class="header-anchor">#</a> vim</h2> <p>shift +G 到末尾</p> <p>shift +ZZ 保存退出</p> <h2 id="nohup"><a href="#nohup" class="header-anchor">#</a> nohup</h2> <p>nohup     &amp;</p> <p>nohup    2&gt;&amp;1 &amp;</p> <p>基本含义</p> <ul><li>/dev/null 表示空设备文件</li> <li>0 表示stdin标准输入</li> <li>1 表示stdout标准输出</li> <li>2 表示stderr标准错误</li></ul> <p>每个程序在运行后，都会至少打开三个文件描述符，分别是0：标准输入；1：标准输出；2：标准错误。</p> <p>2&gt;&amp;1表明将文件描述2（标准错误输出）的内容重定向到文件描述符1（标准输出），为什么1前面需要&amp;？当没有&amp;时，1会被认为是一个普通的文件，有&amp;表示重定向的目标不是一个文件，而是一个文件描述符。在前面我们知道，test.sh &gt;log.txt又将文件描述符1的内容重定向到了文件log.txt，那么最终标准错误也会重定向到log.txt。</p> <p>&amp; 放在命令到结尾，表示后台运行，防止终端一直被某个进程占用，这样终端可以执行别到任务，配合 &gt;file 2&gt;&amp;1可以将log保存到某个文件中，但如果终端关闭，则进程也停止运行。如 command &gt; file.log 2&gt;&amp;1 &amp;</p> <p>通过查看/proc/进程id/fd下的内容，可了解进程打开的文件描述符信息。</p> <div class="language- extra-class"><pre class="language-text"><code>cd /proc/5270/fd   #进程5270所有打开的文件描述符信息都在此
ls -l              #列出目录下的内容
 0 -&gt; /dev/pts/7
 1 -&gt; /dev/pts/7
 2 -&gt; /dev/pts/7
 255 -&gt; /home/hyb/workspaces/shell/test.sh
</code></pre></div><img src="https://s2.loli.net/2023/03/05/j9XS8gGzFyI36hr.png" alt="image-20230305123839368" style="zoom:50%;"> <h2 id="telnet"><a href="#telnet" class="header-anchor">#</a> telnet</h2> <p>linux上会通过各种工具（perf，dstat，iostate，pidstat）等找到系统的性能瓶颈；</p> <h2 id="perf"><a href="#perf" class="header-anchor">#</a> perf</h2> <h2 id="pidof"><a href="#pidof" class="header-anchor">#</a> pidof</h2> <p>pidof  java</p> <h2 id="uname"><a href="#uname" class="header-anchor">#</a> uname</h2> <p>uname -a</p> <h2 id="mkdir-2"><a href="#mkdir-2" class="header-anchor">#</a> mkdir</h2> <p>mkdir -p  递归创建</p> <h2 id="awk"><a href="#awk" class="header-anchor">#</a> awk</h2> <h2 id="sed"><a href="#sed" class="header-anchor">#</a> sed</h2> <h2 id="iperf"><a href="#iperf" class="header-anchor">#</a> iperf</h2> <p>测试网络通信带宽</p> <p>在A机器上</p> <p>iperf -s</p> <p>在B机器上</p> <p>iperf -c HOST_A</p> <h2 id="tar"><a href="#tar" class="header-anchor">#</a> tar</h2> <p>tar zxvf</p> <h2 id="pstack"><a href="#pstack" class="header-anchor">#</a> pstack</h2> <h2 id="gdb"><a href="#gdb" class="header-anchor">#</a> gdb</h2> <p>调试core文件</p> <p>bt</p> <h2 id="kill"><a href="#kill" class="header-anchor">#</a> kill</h2> <p>kill 命令的功能是给进程发送信号</p> <table><thead><tr><th>信号id</th> <th>信号名</th> <th>信号描述</th></tr></thead> <tbody><tr><td>2</td> <td>SIGINT</td> <td>中断(INTerrupt)。这与从终端发送的 Ctrl-c 执行相同的功能。它通常会终止一个程序。</td></tr> <tr><td>9</td> <td>SIGKILL</td> <td>杀死(KILL)。这个信号很特别。尽管程序可能会选择以不同的方式处理发送给它们的信号，包括一起忽略它们，但 KILL 信号实际上从未发送到目标程序。相反，内核会立即终止进程。 当一个进程以这种方式被终止时，它没有机会在它自己之后“清理”或保存它的工作。出于这个原因，SIGKILL 信号应仅用作其他终止信号失败时的最后手段。</td></tr> <tr><td>15</td> <td>SIGTERM</td> <td>终止(TERMinate)。这是 kill 命令发送的<strong>默认信号</strong>。如果程序仍然“存活”到足以接收信号，它将终止。</td></tr></tbody></table> <p>kill -9 强制停止</p> <p>kill -15 优雅停止，一般会等接口执行完毕之后才结束，也是kill的默认信号</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">kill</span> -9 PID
<span class="token function">netstat</span> -ntlp   //查看当前所有tcp端口
<span class="token function">netstat</span> -ntulp <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">80</span>   //查看所有80端口使用情况
<span class="token function">netstat</span> -ntulp <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">3306</span>   //查看所有3306端口使用情况
</code></pre></div><h2 id="core"><a href="#core" class="header-anchor">#</a> core</h2> <p><strong>1.Core文件简介</strong></p> <p>Core文件其实就是内存的映像，当程序崩溃时，存储内存的相应信息，主用用于对程序进行调试。当程序崩溃时便会产生core文件，其实准确的应该说是core dump 文件,默认生成位置与可执行程序位于同一目录下，文件名为core.***,其中***是某一数字。</p> <p><strong>2.开启或关闭Core文件的生成</strong></p> <p>关闭或阻止core文件生成：</p> <p>$ulimit -c 0</p> <p>打开core文件生成：</p> <p>$ulimit -c unlimited   临时生效，重启后失效（当然一般也可以了）</p> <p>检查core文件的选项是否打开：</p> <p>$ulimit -a</p> <p>以上配置只对当前会话起作用，下次重新登陆后，还是得重新配置。要想配置永久生效，得在/etc/profile或者/etc/security/limits.conf文件中进行配置。</p> <p>首先以root权限登陆，然后打开/etc/security/limits.conf文件，进行配置：</p> <p>#vim /etc/security/limits.conf</p> <p><domain><type><item><value></value></item></type></domain></p> <p>​    *        soft      core     unlimited</p> <p>（3）在/etc/security/limits.conf最后增加如下两行记录：</p> <div class="language- extra-class"><pre class="language-text"><code>@root soft core unlimited
@root hard core unlimited
</code></pre></div><p>（1）在/etc/rc.local 中增加一行 ulimit -c unlimited</p> <p>（2）在/etc/profile 中增加一行 ulimit -c unlimited</p> <p>这两个都是开机自启的一种方式</p> <p>查看core生成的位置</p> <div class="language- extra-class"><pre class="language-text"><code>cat /proc/sys/kernel/core_pattern
</code></pre></div><h2 id="ssh"><a href="#ssh" class="header-anchor">#</a> ssh</h2> <p>一、使用账号密码</p> <p>端口如果改了的话需要指定端口号</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">ssh</span> jacky@xx.xx.xx.xx -p <span class="token number">2333</span>
然后输入密码即可
</code></pre></div><p>二、使用公钥</p> <p>将客户端的id_rsa.pub放入服务器的authorized_keys中</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">ssh</span> jacky@xx.xx.xx.xx -p <span class="token number">2333</span>
无需输入密码
</code></pre></div><p>三、使用私钥（服务器的私钥）</p> <p>步骤：</p> <p>将服务器的公钥id_rsa.pub放入authorized_keys中</p> <p>将服务器的私钥文件下载到客户端，并修改权限为600</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">chmod</span> <span class="token number">600</span> ~/id_rsa  
</code></pre></div><p>用客户端下载的私钥id_rsa来实现免密登录</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">ssh</span> -i ~/id_rsa -p <span class="token number">22</span> jacky@xx.xx.xx.xx 
</code></pre></div><h2 id="etc-profile"><a href="#etc-profile" class="header-anchor">#</a> /etc/profile</h2> <div class="language- extra-class"><pre class="language-text"><code>export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.352.b08-2.el7_9.x86_64
export PATH=$JAVA_HOME/bin:$PATH
export CLASSPATH=:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
</code></pre></div><h2 id="etc-hosts"><a href="#etc-hosts" class="header-anchor">#</a> /etc/hosts</h2> <p>配置主机名</p> <h2 id="git"><a href="#git" class="header-anchor">#</a> git</h2> <p>git rebase</p> <h2 id="vim-2"><a href="#vim-2" class="header-anchor">#</a> vim</h2> <p>i  a  o    : 都是insert</p> <p>G  ：可以直接到文件的末尾</p> <p>gg : 回到行首</p> <p>/word   搜索单词word  （n 搜索下一个匹配词   N搜索上一个匹配词）</p> <p>x  : del     X: backspace</p> <p>dd  ： 剪切 这一行（4dd  剪切四行）     p 粘贴到这一行(在当前游标下一行开始粘贴 ， P则是在当前游标这一行粘贴)</p> <p>yy  : 复制游标所在这一行  （4yy）</p> <p>u  撤回   （ctrl + r   ： redo）</p> <p>shift + ↑  向上翻页</p> <p>ZZ  ：保存并退出</p> <p>ZQ ：不保存，强制退出</p> <p>搜索替换：</p> <table><thead><tr><th>:n1,n2s/word1/word2/g</th> <th>n1 与 n2 为数字。在第 n1 与 n2 行之间寻找 word1 这个字符串，并将该字符串取代为 word2 ！举例来说，在 100 到 200 行之间搜寻 vbird 并取代为 VBIRD 则： 『:100,200s/vbird/VBIRD/g』。(常用)</th></tr></thead> <tbody><tr><td><strong>:1,$s/word1/word2/g</strong> <strong>或 :%s/word1/word2/g</strong></td> <td><strong>从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！(常用)</strong></td></tr> <tr><td><strong>:1,$s/word1/word2/gc 或 :%s/word1/word2/gc</strong></td> <td><strong>从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代！(常用)</strong></td></tr></tbody></table> <p>/etc/sudoers</p> <p>/etc/passwd</p> <p>%wheel 组</p> <p>lsof  -p  PID</p> <p>pstack  PID</p> <p>gdb  attach   PID</p> <p>thread apply  all bt</p> <p>info threads</p> <p>bt</p> <p>grep top</p> <p>perf top -p <PID></PID></p> <p>iostat -x -m 1</p> <p>top -p  PID  -H</p> <div class="language- extra-class"><pre class="language-text"><code>1. bt：查看函数调用栈的所有信息，当程序执行异常时，可通过此命令查看程序的调用过程；

2. info threads：显示当前进程中的线程；

3. thread id：切换到具体的线程id，一般切换到具体的线程后再执行bt等操作。
</code></pre></div><p>dstat</p> <p>修改系统时间</p> <p>sudo timedatectl set-timezone 'Asia/Shanghai'</p> <h2 id="md5sum"><a href="#md5sum" class="header-anchor">#</a> md5sum</h2> <p>MD5 全称是报文摘要算法（Message-Digest Algorithm 5）</p> <p>主要作用是：通过文件内容来生成一串对应的二进制字符串，然后可以通过这个字符串来校验文件前后是否被修改</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>ctjia@localhost ctjia<span class="token punctuation">]</span>$ <span class="token function">mkdir</span> mdmd
<span class="token punctuation">[</span>ctjia@localhost ctjia<span class="token punctuation">]</span>$ <span class="token builtin class-name">cd</span> mdmd/
<span class="token punctuation">[</span>ctjia@localhost mdmd<span class="token punctuation">]</span>$ <span class="token function">cp</span> <span class="token punctuation">..</span>/data.csv ./
<span class="token punctuation">[</span>ctjia@localhost mdmd<span class="token punctuation">]</span>$ <span class="token function">ls</span>
data.csv
<span class="token punctuation">[</span>ctjia@localhost mdmd<span class="token punctuation">]</span>$ <span class="token function">cp</span> data.csv data1.csv
<span class="token punctuation">[</span>ctjia@localhost mdmd<span class="token punctuation">]</span>$ md5sum * <span class="token operator">&gt;</span> d.md5
<span class="token punctuation">[</span>ctjia@localhost mdmd<span class="token punctuation">]</span>$ <span class="token function">cat</span> d.md5
5d01ddf06dfab4af245001d907af65c8  data1.csv
5d01ddf06dfab4af245001d907af65c8  data.csv
<span class="token punctuation">[</span>ctjia@localhost mdmd<span class="token punctuation">]</span>$ md5sum -c d.md5
data1.csv: OK
data.csv: OK
<span class="token punctuation">[</span>ctjia@localhost mdmd<span class="token punctuation">]</span>$ <span class="token function">vim</span> data1.csv
<span class="token punctuation">[</span>ctjia@localhost mdmd<span class="token punctuation">]</span>$ md5sum -c d.md5
data1.csv: FAILED
data.csv: OK
md5sum: WARNING: <span class="token number">1</span> computed checksum did NOT match
<span class="token punctuation">[</span>ctjia@localhost mdmd<span class="token punctuation">]</span>$
</code></pre></div><h2 id="tar-2"><a href="#tar-2" class="header-anchor">#</a> tar</h2> <p>打包命令</p> <p>-x 解压  -c压缩</p> <p>-v显示解打包过程</p> <p>-f指定解压的tar包的包名</p> <p>-C 指定解压目录</p> <p>常用：</p> <ul><li>解压<code>tar -xvf</code></li> <li>打包<code>tar -cvf</code></li></ul> <p>如果包是tar.gz</p> <p>那么加上-z参数</p> <ul><li>解压<code>tar -zxvf</code>     tar -zxvf tmp.tar.gz</li> <li>打包<code>tar -zcvf</code>     tar -zcvf tmp.tar.gz /tmp/</li></ul> <h2 id="sed-2"><a href="#sed-2" class="header-anchor">#</a> sed</h2> <div class="language- extra-class"><pre class="language-text"><code>sed -i '/GOPATH/d' ~/.bashrc
</code></pre></div><p>删除带  GOPATH的行</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">1 分钟前</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Linux操作系统/shell编程.html" class="prev">
        shell编程
      </a></span> <span class="next"><a href="/Linux操作系统/自动打卡脚本总结.html">
        自动打卡脚本
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6d855320.js" defer></script><script src="/assets/js/2.d4ff5c60.js" defer></script><script src="/assets/js/9.1ad63360.js" defer></script>
  </body>
</html>
