<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaSE | JACKY</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="icon" href="/images/logo.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.6d855320.js" as="script"><link rel="preload" href="/assets/js/2.d4ff5c60.js" as="script"><link rel="preload" href="/assets/js/104.3894d45f.js" as="script"><link rel="prefetch" href="/assets/js/10.0677b883.js"><link rel="prefetch" href="/assets/js/100.47224151.js"><link rel="prefetch" href="/assets/js/101.e068f649.js"><link rel="prefetch" href="/assets/js/102.2216aa0a.js"><link rel="prefetch" href="/assets/js/103.1274fdb9.js"><link rel="prefetch" href="/assets/js/105.c45ae0dd.js"><link rel="prefetch" href="/assets/js/106.1ea76166.js"><link rel="prefetch" href="/assets/js/107.e9e69cdf.js"><link rel="prefetch" href="/assets/js/108.86dc789c.js"><link rel="prefetch" href="/assets/js/109.dff0ff70.js"><link rel="prefetch" href="/assets/js/11.0ce9576d.js"><link rel="prefetch" href="/assets/js/110.3a698495.js"><link rel="prefetch" href="/assets/js/111.8fc0aa53.js"><link rel="prefetch" href="/assets/js/112.aebd4f61.js"><link rel="prefetch" href="/assets/js/113.ac824a62.js"><link rel="prefetch" href="/assets/js/114.09b2f358.js"><link rel="prefetch" href="/assets/js/115.31a681fc.js"><link rel="prefetch" href="/assets/js/116.2eb333c2.js"><link rel="prefetch" href="/assets/js/117.45d3427d.js"><link rel="prefetch" href="/assets/js/118.313f7765.js"><link rel="prefetch" href="/assets/js/119.985d374f.js"><link rel="prefetch" href="/assets/js/12.809e25a2.js"><link rel="prefetch" href="/assets/js/120.41447dc4.js"><link rel="prefetch" href="/assets/js/121.f014baf8.js"><link rel="prefetch" href="/assets/js/122.097f6079.js"><link rel="prefetch" href="/assets/js/123.afc6a702.js"><link rel="prefetch" href="/assets/js/124.01d724f7.js"><link rel="prefetch" href="/assets/js/125.c9dc4beb.js"><link rel="prefetch" href="/assets/js/126.d5b795cb.js"><link rel="prefetch" href="/assets/js/127.ca74f94d.js"><link rel="prefetch" href="/assets/js/128.d2da9329.js"><link rel="prefetch" href="/assets/js/129.c8717ca5.js"><link rel="prefetch" href="/assets/js/13.152c7e44.js"><link rel="prefetch" href="/assets/js/14.1e51776e.js"><link rel="prefetch" href="/assets/js/15.baa617fb.js"><link rel="prefetch" href="/assets/js/16.f85fffe6.js"><link rel="prefetch" href="/assets/js/17.e6803744.js"><link rel="prefetch" href="/assets/js/18.6d74ca46.js"><link rel="prefetch" href="/assets/js/19.ab7532ab.js"><link rel="prefetch" href="/assets/js/20.be01556b.js"><link rel="prefetch" href="/assets/js/21.d9aded00.js"><link rel="prefetch" href="/assets/js/22.59fd96e2.js"><link rel="prefetch" href="/assets/js/23.575b0571.js"><link rel="prefetch" href="/assets/js/24.d7911b48.js"><link rel="prefetch" href="/assets/js/25.ee1ddc47.js"><link rel="prefetch" href="/assets/js/26.2645d0d2.js"><link rel="prefetch" href="/assets/js/27.b445999f.js"><link rel="prefetch" href="/assets/js/28.e93df91c.js"><link rel="prefetch" href="/assets/js/29.2e9e94e3.js"><link rel="prefetch" href="/assets/js/3.cce6fa70.js"><link rel="prefetch" href="/assets/js/30.c46c1576.js"><link rel="prefetch" href="/assets/js/31.d700821d.js"><link rel="prefetch" href="/assets/js/32.4017f172.js"><link rel="prefetch" href="/assets/js/33.c2f92eee.js"><link rel="prefetch" href="/assets/js/34.384d918e.js"><link rel="prefetch" href="/assets/js/35.9c122bb0.js"><link rel="prefetch" href="/assets/js/36.4ee62a31.js"><link rel="prefetch" href="/assets/js/37.cc538cd0.js"><link rel="prefetch" href="/assets/js/38.66fe6d97.js"><link rel="prefetch" href="/assets/js/39.62865922.js"><link rel="prefetch" href="/assets/js/4.ba8c4904.js"><link rel="prefetch" href="/assets/js/40.18d8b6ea.js"><link rel="prefetch" href="/assets/js/41.df0d8cab.js"><link rel="prefetch" href="/assets/js/42.2c76aec4.js"><link rel="prefetch" href="/assets/js/43.35b2ed84.js"><link rel="prefetch" href="/assets/js/44.7832dc93.js"><link rel="prefetch" href="/assets/js/45.bda8de55.js"><link rel="prefetch" href="/assets/js/46.6dfbc71d.js"><link rel="prefetch" href="/assets/js/47.ce3854ed.js"><link rel="prefetch" href="/assets/js/48.a0914b71.js"><link rel="prefetch" href="/assets/js/49.f409f02c.js"><link rel="prefetch" href="/assets/js/5.ebbfaeab.js"><link rel="prefetch" href="/assets/js/50.4f56073a.js"><link rel="prefetch" href="/assets/js/51.876c612d.js"><link rel="prefetch" href="/assets/js/52.d1cb790e.js"><link rel="prefetch" href="/assets/js/53.0e7bdacf.js"><link rel="prefetch" href="/assets/js/54.69554266.js"><link rel="prefetch" href="/assets/js/55.e91b1adb.js"><link rel="prefetch" href="/assets/js/56.629bc4a4.js"><link rel="prefetch" href="/assets/js/57.dd0e1f38.js"><link rel="prefetch" href="/assets/js/58.6210b964.js"><link rel="prefetch" href="/assets/js/59.3171311f.js"><link rel="prefetch" href="/assets/js/6.319d6800.js"><link rel="prefetch" href="/assets/js/60.f28df51c.js"><link rel="prefetch" href="/assets/js/61.9d91b4cf.js"><link rel="prefetch" href="/assets/js/62.64dca654.js"><link rel="prefetch" href="/assets/js/63.2422c5f1.js"><link rel="prefetch" href="/assets/js/64.2a1e3d2b.js"><link rel="prefetch" href="/assets/js/65.f58499a8.js"><link rel="prefetch" href="/assets/js/66.c0efeb82.js"><link rel="prefetch" href="/assets/js/67.661d7923.js"><link rel="prefetch" href="/assets/js/68.dfab90f4.js"><link rel="prefetch" href="/assets/js/69.d9aed373.js"><link rel="prefetch" href="/assets/js/7.b1af566c.js"><link rel="prefetch" href="/assets/js/70.42a55bd7.js"><link rel="prefetch" href="/assets/js/71.26f59ddc.js"><link rel="prefetch" href="/assets/js/72.08c4a8c5.js"><link rel="prefetch" href="/assets/js/73.3f37d91a.js"><link rel="prefetch" href="/assets/js/74.e351145c.js"><link rel="prefetch" href="/assets/js/75.f4de590b.js"><link rel="prefetch" href="/assets/js/76.67c626c7.js"><link rel="prefetch" href="/assets/js/77.f1130886.js"><link rel="prefetch" href="/assets/js/78.778d639c.js"><link rel="prefetch" href="/assets/js/79.86f9f4d3.js"><link rel="prefetch" href="/assets/js/8.3b56d639.js"><link rel="prefetch" href="/assets/js/80.4ee16963.js"><link rel="prefetch" href="/assets/js/81.01badefa.js"><link rel="prefetch" href="/assets/js/82.4613395c.js"><link rel="prefetch" href="/assets/js/83.03b7e3d1.js"><link rel="prefetch" href="/assets/js/84.a8ed7238.js"><link rel="prefetch" href="/assets/js/85.d0a23cae.js"><link rel="prefetch" href="/assets/js/86.47c348c3.js"><link rel="prefetch" href="/assets/js/87.7103da76.js"><link rel="prefetch" href="/assets/js/88.03092892.js"><link rel="prefetch" href="/assets/js/89.9e2e01ba.js"><link rel="prefetch" href="/assets/js/9.1ad63360.js"><link rel="prefetch" href="/assets/js/90.bc109fb6.js"><link rel="prefetch" href="/assets/js/91.edd4ee6f.js"><link rel="prefetch" href="/assets/js/92.47eef26d.js"><link rel="prefetch" href="/assets/js/93.f3dd468d.js"><link rel="prefetch" href="/assets/js/94.5928d8ae.js"><link rel="prefetch" href="/assets/js/95.a7a96583.js"><link rel="prefetch" href="/assets/js/96.b8df9976.js"><link rel="prefetch" href="/assets/js/97.3200a463.js"><link rel="prefetch" href="/assets/js/98.29d61ae7.js"><link rel="prefetch" href="/assets/js/99.25ff9892.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">JACKY</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">/</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux操作系统</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>专业课</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>机器学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>深度学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>硬件设计</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法与数据结构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>编程语言</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>C++</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Flutter</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Java</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/编程语言/Java/JavaSE.html" class="active sidebar-link">JavaSE</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/编程语言/Java/JavaSE.html#基础数据类型" class="sidebar-link">基础数据类型</a></li><li class="sidebar-sub-header"><a href="/编程语言/Java/JavaSE.html#面向对象" class="sidebar-link">面向对象</a></li><li class="sidebar-sub-header"><a href="/编程语言/Java/JavaSE.html#io流" class="sidebar-link">IO流</a></li><li class="sidebar-sub-header"><a href="/编程语言/Java/JavaSE.html#多线程" class="sidebar-link">多线程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/编程语言/Java/JavaSE.html#thread" class="sidebar-link">Thread</a></li><li class="sidebar-sub-header"><a href="/编程语言/Java/JavaSE.html#runnable-推荐" class="sidebar-link">Runnable（推荐）</a></li><li class="sidebar-sub-header"><a href="/编程语言/Java/JavaSE.html#callable" class="sidebar-link">Callable</a></li><li class="sidebar-sub-header"><a href="/编程语言/Java/JavaSE.html#线程池" class="sidebar-link">线程池</a></li><li class="sidebar-sub-header"><a href="/编程语言/Java/JavaSE.html#守护线程" class="sidebar-link">守护线程</a></li><li class="sidebar-sub-header"><a href="/编程语言/Java/JavaSE.html#线程同步" class="sidebar-link">线程同步！！！</a></li><li class="sidebar-sub-header"><a href="/编程语言/Java/JavaSE.html#lock锁" class="sidebar-link">Lock锁</a></li></ul></li><li class="sidebar-sub-header"><a href="/编程语言/Java/JavaSE.html#抽象类和接口" class="sidebar-link">抽象类和接口</a></li></ul></li><li><a href="/编程语言/Java/Java踩坑记录.html" class="sidebar-link">Java踩坑记录</a></li><li><a href="/编程语言/Java/javaSE八股文.html" class="sidebar-link">javaSE八股文</a></li><li><a href="/编程语言/Java/lambda.html" class="sidebar-link">lambda</a></li><li><a href="/编程语言/Java/设计模式.html" class="sidebar-link">设计模式</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Lua</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Nodejs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>go</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>python</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>联邦学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>软件开发</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javase"><a href="#javase" class="header-anchor">#</a> JavaSE</h1> <h2 id="基础数据类型"><a href="#基础数据类型" class="header-anchor">#</a> 基础数据类型</h2> <p>Java 中有 8 种基本数据类型，分别为：</p> <ul><li>6 种数字类型：
<ul><li>4 种整数型：<code>byte</code>、<code>short</code>、<code>int</code>、<code>long</code></li> <li>2 种浮点型：<code>float</code>、<code>double</code></li></ul></li> <li>1 种字符类型：<code>char</code></li> <li>1 种布尔型：<code>boolean</code>。</li></ul> <p>这 8 种基本数据类型的默认值以及所占空间的大小如下：</p> <table><thead><tr><th style="text-align:left;">基本类型</th> <th style="text-align:left;">位数</th> <th style="text-align:left;">字节</th> <th style="text-align:left;">默认值</th> <th>取值范围</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>byte</code></td> <td style="text-align:left;">8</td> <td style="text-align:left;">1</td> <td style="text-align:left;">0</td> <td>-128 ~ 127</td></tr> <tr><td style="text-align:left;"><code>short</code></td> <td style="text-align:left;">16</td> <td style="text-align:left;">2</td> <td style="text-align:left;">0</td> <td>-32768 ~ 32767</td></tr> <tr><td style="text-align:left;"><code>int</code></td> <td style="text-align:left;">32</td> <td style="text-align:left;">4</td> <td style="text-align:left;">0</td> <td>-2147483648 ~ 2147483647</td></tr> <tr><td style="text-align:left;"><code>long</code></td> <td style="text-align:left;">64</td> <td style="text-align:left;">8</td> <td style="text-align:left;">0L</td> <td>-9223372036854775808 ~ 9223372036854775807</td></tr> <tr><td style="text-align:left;"><code>char</code></td> <td style="text-align:left;">16</td> <td style="text-align:left;">2</td> <td style="text-align:left;">'u0000'</td> <td>0 ~ 65535</td></tr> <tr><td style="text-align:left;"><code>float</code></td> <td style="text-align:left;">32</td> <td style="text-align:left;">4</td> <td style="text-align:left;">0f</td> <td>1.4E-45 ~ 3.4028235E38</td></tr> <tr><td style="text-align:left;"><code>double</code></td> <td style="text-align:left;">64</td> <td style="text-align:left;">8</td> <td style="text-align:left;">0d</td> <td>4.9E-324 ~ 1.7976931348623157E308</td></tr> <tr><td style="text-align:left;"><code>boolean</code></td> <td style="text-align:left;">1</td> <td style="text-align:left;"></td> <td style="text-align:left;">false</td> <td>true、false</td></tr></tbody></table> <p><strong>注意：</strong></p> <ol><li>Java 里使用 <code>long</code> 类型的数据一定要在数值后面加上 <strong>L</strong>，否则将作为整型解析。</li> <li><code>char a = 'h'</code>char :单引号，<code>String a = &quot;hello&quot;</code> :双引号。</li></ol> <p>这八种基本类型都有对应的包装类分别为：<code>Byte</code>、<code>Short</code>、<code>Integer</code>、<code>Long</code>、<code>Float</code>、<code>Double</code>、<code>Character</code>、<code>Boolean</code> 。</p> <p>基本数据类型的局部变量存放在 Java 虚拟机<strong>栈中的局部变量表</strong>中</p> <p>基本数据类型的成员变量（未被 <code>static</code> 修饰 ）存放在 Java 虚拟机的<strong>堆</strong>中</p> <p>包装类型属于对象类型，我们知道几乎所有<strong>对象实例都存在于堆</strong>中。</p> <h2 id="面向对象"><a href="#面向对象" class="header-anchor">#</a> 面向对象</h2> <p>java是面向对象的，采用这种语言进行编程称为面向对象编程（OOP）</p> <p><strong>面向对象编程的本质就是：以类的方式组织代码，以对象来组织(封装)数据。</strong></p> <p>除了基本数据类型之外的叫做引用类型</p> <p>父类中的属性和方法使用public修饰,在子类中继承后&quot;可以直接&quot;使用</p> <p>父类中的属性和方法使用private修饰,在子类中继承后&quot;不可以直接&quot;使用</p> <p><strong>父类中的构造器是不能被子类继承的</strong>,但是子类的构造器中,**会隐式的调用父类中的无参构造器(**默认使用 super关键字)。</p> <ol><li><p>父类引用可以指向它的任何一个子类对象，子类引用不能指向父类</p></li> <li><p>把子类的实例化对象直接赋值给父类叫做向上转型upcasting，向上转型不需要强制转型</p> <p>Father father = new Son();</p></li> <li><p>把指向子类对象的父类引用赋给子类引用叫向下转型（downcasting），要强制转型。 如father就是一个指向子类对象的父类引用，把father赋给子类引用son 即Son son =（Son） father； 其中father前面的（Son）必须添加，进行强制转换。</p></li> <li><p>upcasting 会丢失子类特有的方法,但是子类overriding 父类的方法会仍然生效（重写过的还是用的子类自己的方法）</p></li> <li><p>static方法，因为被static修饰的方法是属于类的，而不是属于实例的</p></li> <li><p>final方法，因为被final修饰的方法无法被子类重写，但是可以继承 ；final修饰的类不能被继承，没有子类；final修饰的变量，只能赋值一次（引用变量不能改变引用地址，但是引用对象的属性是可以改变的）</p></li> <li><p>private方法和protected方法，前者是因为被private修饰的方法对子类不可见，后者是因为尽管被 protected修饰的方法可以被子类见到，也可以被子类重写，但是它是<strong>无法被外部所引用的</strong>。</p></li> <li><p>abstract修饰的方法叫做抽象方法，abstract修饰的类叫做抽象类；<strong>抽象类中可以没有抽象方法,但是有抽象方法的类一定要声明为抽象类。</strong></p></li> <li><p>抽象类,不能使用new关键字来创建对象,它是用来让子类继承的；抽象方法,只有方法的声明,没有方法的实现,它是用来让子类实现的。有点像接口的感觉，但接口和抽象类又有区别</p></li></ol> <p>普通类：只有具体实现</p> <p>抽象类：具体实现和规范(抽象方法) 都有！</p> <p>接口：只有规范！</p> <img src="https://s2.loli.net/2022/10/23/btANphHZOn9aVUC.png" alt="image-20221023195239939" style="zoom:80%;"> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Action</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//默认就是public abstract修饰的</span>
    <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">go</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="io流"><a href="#io流" class="header-anchor">#</a> IO流</h2> <div class="language-java extra-class"><pre class="language-java"><code>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token comment">//1. 定位到服务器端的资源</span>
    <span class="token class-name">URL</span> url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:8080/helloworld/qinjiang.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//2. 创建连接</span>
    <span class="token class-name">HttpURLConnection</span> connection <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpURLConnection</span><span class="token punctuation">)</span> url<span class="token punctuation">.</span><span class="token function">openConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//3. 获取输入流</span>
    <span class="token class-name">InputStream</span> is <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//4. 写出文件</span>
    <span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;qinjiang2.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> len<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len<span class="token operator">=</span>is<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre></div><h2 id="多线程"><a href="#多线程" class="header-anchor">#</a> 多线程</h2> <img src="https://s2.loli.net/2022/10/23/OhKDUtzo4AElpyX.png" alt="image-20221023222455903" style="zoom:50%;"> <h3 id="thread"><a href="#thread" class="header-anchor">#</a> Thread</h3> <p>Thread类继承了Runnable接口，所以本质还是<strong>继承Runnable接口</strong></p> <ul><li>自定义线程类继承Thread类</li> <li>重写run()方法，编写线程执行体</li> <li>创建线程对象，调用start()方法启动线程</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadTest1</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;并行线程&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ThreadTest1</span> threadTest1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadTest1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        threadTest1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;这是主线程&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="runnable-推荐"><a href="#runnable-推荐" class="header-anchor">#</a> Runnable（推荐）</h3> <p>推荐使用Runnable对象，因为Java单继承的局限性</p> <ul><li>定义MyRunnable类实现Runnable接口</li> <li>实现run()方法，编写线程执行体</li> <li>创建线程对象，调用start()方法启动线程</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadTest2</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;并行线程&quot;</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ThreadTest2</span> threadTest2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadTest2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 这里用的 方法 是静态代理</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>threadTest2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;主线程&quot;</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>补充：静态代理</p> <blockquote><p>静态代理模式总结：</p> <p>真是对象和代理对象都要实现同一个接口</p> <p>代理对象要代理真实对象（代理对象中需要将 接口类作为属性）</p></blockquote> <p>==接口作为类型使用==</p> <p>接口作为引用类型来使用，任何实现该接口的类的实例都可以存储在该接口类型的变量中，通过这些变量可以访问类中所实现的接口中的方法，Java 运行时系统会动态地确定应该使用哪个类中的方法，实际上是调用相应的实现类的方法。</p> <p>清单1：代理接口</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**  
 * 代理接口。处理给定名字的任务。 
 */</span>  
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Subject</span> <span class="token punctuation">{</span>  
  <span class="token comment">/** 
   * 执行给定名字的任务。 
   * @param taskName 任务名 
   */</span>  
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">dealTask</span><span class="token punctuation">(</span><span class="token class-name">String</span> taskName<span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token punctuation">}</span>  
</code></pre></div><p>清单2：委托类，具体处理业务。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/** 
 * 真正执行任务的类，实现了代理接口。 
 */</span> 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RealSubject</span> <span class="token keyword">implements</span> <span class="token class-name">Subject</span> <span class="token punctuation">{</span> 
 <span class="token comment">/** 
  * 执行给定名字的任务。这里打印出任务名，并休眠500ms模拟任务执行了很长时间 
  * @param taskName  
  */</span>  
   <span class="token annotation punctuation">@Override</span>  
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">dealTask</span><span class="token punctuation">(</span><span class="token class-name">String</span> taskName<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;正在执行任务：&quot;</span><span class="token operator">+</span>taskName<span class="token punctuation">)</span><span class="token punctuation">;</span>  
         <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
         e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
      <span class="token punctuation">}</span>  
   <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
</code></pre></div><p>清单3：静态代理类</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * 　代理类，实现了代理接口。
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProxySubject</span> <span class="token keyword">implements</span> <span class="token class-name">Subject</span> <span class="token punctuation">{</span>
    <span class="token comment">//代理类持有一个委托类的对象引用  </span>
    <span class="token keyword">private</span> <span class="token class-name">Subject</span> delegate<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ProxySubject</span><span class="token punctuation">(</span><span class="token class-name">Subject</span> delegate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>delegate <span class="token operator">=</span> delegate<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 将请求分派给委托类执行，记录任务执行前后的时间，时间差即为任务的处理时间
     *
     * @param taskName
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">dealTask</span><span class="token punctuation">(</span><span class="token class-name">String</span> taskName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">long</span> stime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//将请求分派给委托类处理  </span>
        delegate<span class="token punctuation">.</span><span class="token function">dealTask</span><span class="token punctuation">(</span>taskName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">long</span> ftime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;执行任务耗时&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ftime <span class="token operator">-</span> stime<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;毫秒&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="callable"><a href="#callable" class="header-anchor">#</a> Callable</h3> <ol><li>实现Callable接口，需要返回值类型</li> <li>重写call方法，需要抛出异常</li> <li>创建目标对象</li> <li>创建执行服务：ExecutorService ser = Executors.newFixedThreadPool(1);</li> <li>提交执行：Future result1 = ser.submit(t1);</li> <li>获取结果：boolean r1 = result1.get() 7</li> <li>关闭服务：ser.shutdownNow();</li></ol> <p><strong>实现Callable接口通过FutureTask包装器来创建Thread线程</strong></p> <h3 id="线程池"><a href="#线程池" class="header-anchor">#</a> 线程池</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadPool</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//创建线程池，池的大小为10</span>
        <span class="token class-name">ExecutorService</span> service <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//启动线程</span>
        service<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">myThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        service<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">myThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        service<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">myThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        service<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;这里用lambda表达式，本质是使用了函数式接口&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//关闭线程池</span>
        service<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


<span class="token punctuation">}</span>


<span class="token keyword">class</span> myThread <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="守护线程"><a href="#守护线程" class="header-anchor">#</a> 守护线程</h3> <ul><li>线程分为<code>用户线程</code>和<code>守护线程</code></li> <li>虚拟机必须保证用户线程的执行完毕</li> <li>虚拟机不用等待守护线程的执行完毕</li> <li>例如：后台记录操作日志、监控内存、垃圾回收等</li></ul> <div class="language-java extra-class"><pre class="language-java"><code>设置的方法就是
thread<span class="token punctuation">.</span><span class="token function">setDaemon</span><span class="token punctuation">(</span><span class="token class-name">True</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
默认是<span class="token boolean">false</span>，即用户进程；
</code></pre></div><h3 id="线程同步"><a href="#线程同步" class="header-anchor">#</a> 线程同步！！！</h3> <p>由于同一进程的多个线程共享同一块存储空间 , 在带来方便的同时,也带来了访问冲突问题 , 为了保证数据在方法中被访问时的正确性 , 在访问时加入锁机制 <strong>synchronized</strong> , 当一个线程获得对象（临界资源）的<strong>排它锁 , 独占资源 , 其他线程必须等待 , 使用后释放锁即可</strong> 。</p> <p>但是也存在以下问题</p> <ul><li>一个线程持有锁会导致其他所有需要此锁的线程挂起 ;</li> <li>在多线程竞争下 , 加锁 , 释放锁会导致比较多的上下文切换 和 调度延时,引起性能问题；</li> <li>如果一个优先级高的线程等待一个优先级低的线程释放锁会导致优先级倒置 , 引起性能问题 .</li></ul> <p><code>synchronized</code>方法控制对“对象”的访问，每个对象（锁的是this）对应一把锁，每个synchronized方法都需要获得调用该方法的对象的锁才可以正常执行，否则线程阻塞。</p> <blockquote><p>重点：</p> <p><code>synchronized</code>方法，默认锁的是这个方法所在的类对象（也就是this），也就完全等价于<code>synchronized(this)</code></p> <p>但是<code>synchronized</code>方法块，锁的可以是任意对象。写法：<code>synchronized(obj)</code>，obj也叫做同步监视器</p> <p>！！！锁的对象就是变化的量，需要增删改的对象</p></blockquote> <p>函数式接口：是Java8 lambda表达式的关键所在，他的定义是<strong>任何接口如果只含唯一一个抽象方法，那么他就是一个函数式接口。</strong></p> <p>lambda代码是为了减少匿名内部类的使用</p> <h3 id="lock锁"><a href="#lock锁" class="header-anchor">#</a> Lock锁</h3> <p>ReentrantLock可重入锁</p> <p>可以显式的加锁和解锁</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">ReentrantLock</span> lock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReenTrantLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        lock<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
<span class="token comment">//保证线程安全的代码;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            lock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//如果同步代码有异常，要将unlock()写入finally语句块</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><img src="https://s2.loli.net/2022/10/24/8DGkHNLmc9MX5Qa.png" alt="image-20221024221349665" style="zoom:67%;"> <h2 id="抽象类和接口"><a href="#抽象类和接口" class="header-anchor">#</a> 抽象类和接口</h2> <p>相同点</p> <ul><li>都有抽象方法</li> <li>都无法实例化，只能由子类去实例化子类对象</li></ul> <p>不同</p> <ul><li>抽象类 用的是继承extends    接口 用的是 implements 实现</li> <li>抽象类可以实现接口 ，但是接口只能继承接口，不能继承类</li> <li>接口没有成员属性  没有构造器，只有方法 和 静态属性（final 修饰的静态常量）；抽象类有成员属性</li> <li>java8之后，接口多了default关键字，给与默认方法，不需要强制重写</li></ul> <p><img src="https://s2.loli.net/2022/12/08/y2o1CcsvKbizHLU.png" alt="image-20221208234519904"></p> <p>当既可以用接口也可以用抽象类时，尽可能用接口，会让子类的灵活性更高，因为接口不占继承类的位置</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">1 分钟前</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/编程语言/Flutter/组件/TTS.html" class="prev">
        TTS
      </a></span> <span class="next"><a href="/编程语言/Java/Java踩坑记录.html">
        Java踩坑记录
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6d855320.js" defer></script><script src="/assets/js/2.d4ff5c60.js" defer></script><script src="/assets/js/104.3894d45f.js" defer></script>
  </body>
</html>
