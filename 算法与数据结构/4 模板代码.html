<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>4 模板代码 | JACKY</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="icon" href="/images/logo.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.6d855320.js" as="script"><link rel="preload" href="/assets/js/2.d4ff5c60.js" as="script"><link rel="preload" href="/assets/js/90.bc109fb6.js" as="script"><link rel="prefetch" href="/assets/js/10.0677b883.js"><link rel="prefetch" href="/assets/js/100.47224151.js"><link rel="prefetch" href="/assets/js/101.e068f649.js"><link rel="prefetch" href="/assets/js/102.2216aa0a.js"><link rel="prefetch" href="/assets/js/103.1274fdb9.js"><link rel="prefetch" href="/assets/js/104.3894d45f.js"><link rel="prefetch" href="/assets/js/105.c45ae0dd.js"><link rel="prefetch" href="/assets/js/106.1ea76166.js"><link rel="prefetch" href="/assets/js/107.e9e69cdf.js"><link rel="prefetch" href="/assets/js/108.86dc789c.js"><link rel="prefetch" href="/assets/js/109.dff0ff70.js"><link rel="prefetch" href="/assets/js/11.0ce9576d.js"><link rel="prefetch" href="/assets/js/110.3a698495.js"><link rel="prefetch" href="/assets/js/111.8fc0aa53.js"><link rel="prefetch" href="/assets/js/112.aebd4f61.js"><link rel="prefetch" href="/assets/js/113.ac824a62.js"><link rel="prefetch" href="/assets/js/114.09b2f358.js"><link rel="prefetch" href="/assets/js/115.31a681fc.js"><link rel="prefetch" href="/assets/js/116.2eb333c2.js"><link rel="prefetch" href="/assets/js/117.45d3427d.js"><link rel="prefetch" href="/assets/js/118.313f7765.js"><link rel="prefetch" href="/assets/js/119.985d374f.js"><link rel="prefetch" href="/assets/js/12.809e25a2.js"><link rel="prefetch" href="/assets/js/120.41447dc4.js"><link rel="prefetch" href="/assets/js/121.f014baf8.js"><link rel="prefetch" href="/assets/js/122.097f6079.js"><link rel="prefetch" href="/assets/js/123.afc6a702.js"><link rel="prefetch" href="/assets/js/124.01d724f7.js"><link rel="prefetch" href="/assets/js/125.c9dc4beb.js"><link rel="prefetch" href="/assets/js/126.d5b795cb.js"><link rel="prefetch" href="/assets/js/127.ca74f94d.js"><link rel="prefetch" href="/assets/js/128.d2da9329.js"><link rel="prefetch" href="/assets/js/129.c8717ca5.js"><link rel="prefetch" href="/assets/js/13.152c7e44.js"><link rel="prefetch" href="/assets/js/14.1e51776e.js"><link rel="prefetch" href="/assets/js/15.baa617fb.js"><link rel="prefetch" href="/assets/js/16.f85fffe6.js"><link rel="prefetch" href="/assets/js/17.e6803744.js"><link rel="prefetch" href="/assets/js/18.6d74ca46.js"><link rel="prefetch" href="/assets/js/19.ab7532ab.js"><link rel="prefetch" href="/assets/js/20.be01556b.js"><link rel="prefetch" href="/assets/js/21.d9aded00.js"><link rel="prefetch" href="/assets/js/22.59fd96e2.js"><link rel="prefetch" href="/assets/js/23.575b0571.js"><link rel="prefetch" href="/assets/js/24.d7911b48.js"><link rel="prefetch" href="/assets/js/25.ee1ddc47.js"><link rel="prefetch" href="/assets/js/26.2645d0d2.js"><link rel="prefetch" href="/assets/js/27.b445999f.js"><link rel="prefetch" href="/assets/js/28.e93df91c.js"><link rel="prefetch" href="/assets/js/29.2e9e94e3.js"><link rel="prefetch" href="/assets/js/3.cce6fa70.js"><link rel="prefetch" href="/assets/js/30.c46c1576.js"><link rel="prefetch" href="/assets/js/31.d700821d.js"><link rel="prefetch" href="/assets/js/32.4017f172.js"><link rel="prefetch" href="/assets/js/33.c2f92eee.js"><link rel="prefetch" href="/assets/js/34.384d918e.js"><link rel="prefetch" href="/assets/js/35.9c122bb0.js"><link rel="prefetch" href="/assets/js/36.4ee62a31.js"><link rel="prefetch" href="/assets/js/37.cc538cd0.js"><link rel="prefetch" href="/assets/js/38.66fe6d97.js"><link rel="prefetch" href="/assets/js/39.62865922.js"><link rel="prefetch" href="/assets/js/4.ba8c4904.js"><link rel="prefetch" href="/assets/js/40.18d8b6ea.js"><link rel="prefetch" href="/assets/js/41.df0d8cab.js"><link rel="prefetch" href="/assets/js/42.2c76aec4.js"><link rel="prefetch" href="/assets/js/43.35b2ed84.js"><link rel="prefetch" href="/assets/js/44.7832dc93.js"><link rel="prefetch" href="/assets/js/45.bda8de55.js"><link rel="prefetch" href="/assets/js/46.6dfbc71d.js"><link rel="prefetch" href="/assets/js/47.ce3854ed.js"><link rel="prefetch" href="/assets/js/48.a0914b71.js"><link rel="prefetch" href="/assets/js/49.f409f02c.js"><link rel="prefetch" href="/assets/js/5.ebbfaeab.js"><link rel="prefetch" href="/assets/js/50.4f56073a.js"><link rel="prefetch" href="/assets/js/51.876c612d.js"><link rel="prefetch" href="/assets/js/52.d1cb790e.js"><link rel="prefetch" href="/assets/js/53.0e7bdacf.js"><link rel="prefetch" href="/assets/js/54.69554266.js"><link rel="prefetch" href="/assets/js/55.e91b1adb.js"><link rel="prefetch" href="/assets/js/56.629bc4a4.js"><link rel="prefetch" href="/assets/js/57.dd0e1f38.js"><link rel="prefetch" href="/assets/js/58.6210b964.js"><link rel="prefetch" href="/assets/js/59.3171311f.js"><link rel="prefetch" href="/assets/js/6.319d6800.js"><link rel="prefetch" href="/assets/js/60.f28df51c.js"><link rel="prefetch" href="/assets/js/61.9d91b4cf.js"><link rel="prefetch" href="/assets/js/62.64dca654.js"><link rel="prefetch" href="/assets/js/63.2422c5f1.js"><link rel="prefetch" href="/assets/js/64.2a1e3d2b.js"><link rel="prefetch" href="/assets/js/65.f58499a8.js"><link rel="prefetch" href="/assets/js/66.c0efeb82.js"><link rel="prefetch" href="/assets/js/67.661d7923.js"><link rel="prefetch" href="/assets/js/68.dfab90f4.js"><link rel="prefetch" href="/assets/js/69.d9aed373.js"><link rel="prefetch" href="/assets/js/7.b1af566c.js"><link rel="prefetch" href="/assets/js/70.42a55bd7.js"><link rel="prefetch" href="/assets/js/71.26f59ddc.js"><link rel="prefetch" href="/assets/js/72.08c4a8c5.js"><link rel="prefetch" href="/assets/js/73.3f37d91a.js"><link rel="prefetch" href="/assets/js/74.e351145c.js"><link rel="prefetch" href="/assets/js/75.f4de590b.js"><link rel="prefetch" href="/assets/js/76.67c626c7.js"><link rel="prefetch" href="/assets/js/77.f1130886.js"><link rel="prefetch" href="/assets/js/78.778d639c.js"><link rel="prefetch" href="/assets/js/79.86f9f4d3.js"><link rel="prefetch" href="/assets/js/8.3b56d639.js"><link rel="prefetch" href="/assets/js/80.4ee16963.js"><link rel="prefetch" href="/assets/js/81.01badefa.js"><link rel="prefetch" href="/assets/js/82.4613395c.js"><link rel="prefetch" href="/assets/js/83.03b7e3d1.js"><link rel="prefetch" href="/assets/js/84.a8ed7238.js"><link rel="prefetch" href="/assets/js/85.d0a23cae.js"><link rel="prefetch" href="/assets/js/86.47c348c3.js"><link rel="prefetch" href="/assets/js/87.7103da76.js"><link rel="prefetch" href="/assets/js/88.03092892.js"><link rel="prefetch" href="/assets/js/89.9e2e01ba.js"><link rel="prefetch" href="/assets/js/9.1ad63360.js"><link rel="prefetch" href="/assets/js/91.edd4ee6f.js"><link rel="prefetch" href="/assets/js/92.47eef26d.js"><link rel="prefetch" href="/assets/js/93.f3dd468d.js"><link rel="prefetch" href="/assets/js/94.5928d8ae.js"><link rel="prefetch" href="/assets/js/95.a7a96583.js"><link rel="prefetch" href="/assets/js/96.b8df9976.js"><link rel="prefetch" href="/assets/js/97.3200a463.js"><link rel="prefetch" href="/assets/js/98.29d61ae7.js"><link rel="prefetch" href="/assets/js/99.25ff9892.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">JACKY</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">/</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux操作系统</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>专业课</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>机器学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>深度学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>硬件设计</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>算法与数据结构</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/算法与数据结构/1 算法基础.html" class="sidebar-link">1 算法基础</a></li><li><a href="/算法与数据结构/2 算法奇淫巧技.html" class="sidebar-link">2 算法奇淫巧技</a></li><li><a href="/算法与数据结构/3 十大排序.html" class="sidebar-link">3 十大排序算法</a></li><li><a href="/算法与数据结构/4 模板代码.html" class="active sidebar-link">4 模板代码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/算法与数据结构/4 模板代码.html#_4-1-最大公约数" class="sidebar-link">4.1 最大公约数</a></li><li class="sidebar-sub-header"><a href="/算法与数据结构/4 模板代码.html#_4-2-最小公倍数" class="sidebar-link">4.2 最小公倍数</a></li><li class="sidebar-sub-header"><a href="/算法与数据结构/4 模板代码.html#_4-3-求较大数的余数" class="sidebar-link">4.3 求较大数的余数</a></li><li class="sidebar-sub-header"><a href="/算法与数据结构/4 模板代码.html#_4-4-快速幂" class="sidebar-link">4.4 快速幂</a></li><li class="sidebar-sub-header"><a href="/算法与数据结构/4 模板代码.html#_4-5-全排列" class="sidebar-link">4.5 全排列</a></li><li class="sidebar-sub-header"><a href="/算法与数据结构/4 模板代码.html#_4-6-正则匹配" class="sidebar-link">4.6 正则匹配</a></li><li class="sidebar-sub-header"><a href="/算法与数据结构/4 模板代码.html#_4-7-卡特兰数" class="sidebar-link">4.7 卡特兰数</a></li><li class="sidebar-sub-header"><a href="/算法与数据结构/4 模板代码.html#_4-8-线性筛" class="sidebar-link">4.8 线性筛</a></li><li class="sidebar-sub-header"><a href="/算法与数据结构/4 模板代码.html#_4-9-位运算" class="sidebar-link">4.9 位运算</a></li><li class="sidebar-sub-header"><a href="/算法与数据结构/4 模板代码.html#_4-10-差分" class="sidebar-link">4.10 差分</a></li><li class="sidebar-sub-header"><a href="/算法与数据结构/4 模板代码.html#_4-11-背包九讲" class="sidebar-link">4.11 背包九讲</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/算法与数据结构/4 模板代码.html#_4-1-11-01背包" class="sidebar-link">4.1.11 01背包</a></li><li class="sidebar-sub-header"><a href="/算法与数据结构/4 模板代码.html#_4-11-2-完全背包" class="sidebar-link">4.11.2 完全背包</a></li></ul></li></ul></li><li><a href="/算法与数据结构/5 经典习题.html" class="sidebar-link">5 经典习题</a></li><li><a href="/算法与数据结构/二叉树.html" class="sidebar-link">树</a></li><li><a href="/算法与数据结构/算法Java.html" class="sidebar-link">图算法</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>编程语言</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>联邦学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>软件开发</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_4-模板代码"><a href="#_4-模板代码" class="header-anchor">#</a> 4 模板代码</h1> <h2 id="_4-1-最大公约数"><a href="#_4-1-最大公约数" class="header-anchor">#</a> 4.1 最大公约数</h2> <p>GCD(a,b）采用的方法是 <strong>辗转相除法</strong></p> <p>gcd算法的 时间复杂度 为 O（log N） （拉梅定理）</p> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">gcd</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> a<span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token function">gcd</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span>a<span class="token operator">%</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre></div><p>因(a,b)和(b,a mod b)的公约数相等，则其最大公约数也相等，得证。</p> <p>两个整数的最大公约数等于其中较小的那个数和两数相除余数的最大公约数</p> <p>即，(a,b)的最大公约数  ==  （b, a mod b）的最大公约数。</p> <h2 id="_4-2-最小公倍数"><a href="#_4-2-最小公倍数" class="header-anchor">#</a> 4.2 最小公倍数</h2> <p>LCM(a,b)</p> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">lcm</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token operator">*</span>b<span class="token operator">/</span><span class="token function">gcd</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>最小公倍数 = 两个数的乘积 / 最大公约数</p> <h2 id="_4-3-求较大数的余数"><a href="#_4-3-求较大数的余数" class="header-anchor">#</a> 4.3 求较大数的余数</h2> <p>求一个较大数的余数，例如求 768579873984729847982348972948274987 % 8</p> <p>方法：按位去取余</p> <p>从高位到低位去取</p> <div class="language-c_cpp extra-class"><pre class="language-text"><code> for (int i = 0 ,r = 0; i &lt; n; ++i) {
                r = r*10+a[i];
                r = r % 8;
            }
</code></pre></div><h2 id="_4-4-快速幂"><a href="#_4-4-快速幂" class="header-anchor">#</a> 4.4 快速幂</h2> <p>快速算出2^n</p> <p>递归方法：</p> <div class="language-c_cpp extra-class"><pre class="language-text"><code>//递归快速幂
int qpow(int a, int n)
{
    if (n == 0)
        return 1;
    else if (n % 2 == 1)
        return qpow(a, n - 1) * a;
    else
    {
        int temp = qpow(a, n / 2);
        return temp * temp;
    }
}
</code></pre></div><p>非递归：</p> <div class="language-c_cpp extra-class"><pre class="language-text"><code>//非递归快速幂
int qpow(int a, int n){
    int ans = 1;
    while(n){
        if(n&amp;1)        //如果n的当前末位为1
            ans *= a;  //ans乘上当前的a
        a *= a;        //a自乘
        n &gt;&gt;= 1;       //n往右移一位
    }
    return ans;
}
</code></pre></div><h2 id="_4-5-全排列"><a href="#_4-5-全排列" class="header-anchor">#</a> 4.5 全排列</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token function">perm</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">perm</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> a <span class="token punctuation">,</span> <span class="token keyword">int</span> start <span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>start<span class="token operator">==</span>n<span class="token punctuation">)</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//每一次第一个 数 放在 最前面 ， 后面 的 用perm来继续递归</span>
            <span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>start<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">perm</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>start<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>start<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//交换后 ，恢复数组</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> a <span class="token punctuation">,</span> <span class="token keyword">int</span> x <span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">int</span> t <span class="token operator">=</span> a<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
        a<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">=</span>a<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span>
        a<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">=</span>t<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


</code></pre></div><h2 id="_4-6-正则匹配"><a href="#_4-6-正则匹配" class="header-anchor">#</a> 4.6 正则匹配</h2> <p>输入：WoAiLanQiaoBei</p> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token class-name">String</span> pattern <span class="token operator">=</span> <span class="token string">&quot;[A-Z][a-z]*&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// 创建 Pattern 对象</span>
    <span class="token class-name">Pattern</span> r <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 现在创建 matcher 对象</span>
    <span class="token class-name">Matcher</span> m <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//m.group() 返回是string</span>
        <span class="token comment">//list.add(m.group());</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>输出：</p> <p>Wo
Ai
Lan
Qiao
Bei</p> <blockquote><p>ps 正则表达式的一些常用知识点：</p> <ol><li>*是&gt;=0个； +是&gt;=1个； ？是0次或1次，等价于{0,1}</li> <li>{n}代表匹配n次  ；{n,}大于等于n次  ；{n，m}  n-m次</li> <li></li></ol></blockquote> <h2 id="_4-7-卡特兰数"><a href="#_4-7-卡特兰数" class="header-anchor">#</a> 4.7 卡特兰数</h2> <p>==通项公式：Cn,2n - Cn+1,2n==</p> <p>*<strong>递推公式：Catalan(n)=(4n-2)/(n+1) * Catalan(n-1)</strong></p> <p>卡特兰数的定义——是一种出现于各种<strong>计数问题</strong>中的数列。</p> <p>其前几项为（从第零项开始） : 1, 1, 2, 5, 14, 42, 132, 429, 1430, 4862, 16796。。。。</p> <p>卡特兰数：描述的是，在序列中的任何位置中，都需要满足（ x的个数要大于&gt;=y   也可以理解为 &lt;=  关键在于x和y如何定义 ）</p> <p><img src="https://s2.loli.net/2022/05/05/OeaW9kjSmtGZwRr.png" alt="截图"></p> <p>对于走路问题，也就是从（0，0）走到（n，n） ，在走的过程中，要求不能越过y=x这条直线；</p> <p>我们可以将该问题转化为卡特兰数问题，即 从（0，0）走到（n，n）需要总共 2n 步；</p> <p>关键理解：这2n步中有n步是往右走的，n步是往上走的；但是对于路途中的任意时刻来说，<strong>往右走的步数一定是大于等于往上走的步数的</strong>（对应于括号匹配问题中的就是说：对于其中任意一个位置，左括号的个数一定是大于等于右括号的个数的，最终二者的个数相同）。</p> <p>还有一个就是 栈的模型 ，** 入栈和出栈 相当于 其中的x和y   x的个数一定大于等于y的个数**</p> <blockquote><p>所以该算法的模型就是：</p> <ul><li>x和y的最终个数相等</li> <li>x在任何时刻都大于等于y的个数</li> <li>求全部的总数</li></ul></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//使用递归的方式解决卡特兰数</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">double</span> <span class="token class-name">CatalanNumber</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>   
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> 
        <span class="token keyword">return</span>  <span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">*</span> n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token class-name">CatalanNumber</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="https://s2.loli.net/2022/05/05/xw8LfvOYIh7riqn.png" alt="截图"></p> <p><img src="https://s2.loli.net/2022/05/05/HZk72abjlg9UTu3.png" alt="截图"></p> <p><img src="https://s2.loli.net/2022/05/05/RDg1Yv8Pknw6HJy.png" alt="截图"></p> <h2 id="_4-8-线性筛"><a href="#_4-8-线性筛" class="header-anchor">#</a> 4.8 线性筛</h2> <p>==线性筛，可以理解为用 O(n) 的时间复杂度处理 ⩽n 定义域范围内每个点对应的某个函数值。==</p> <p>线性筛质数</p> <p>线性筛质数是线性筛最基础的内容，<strong>其思想就是最简单的“用 i 的最小质因子筛掉 i</strong>。不多解释，直接贴代码:</p> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> prime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">boolean</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> isPrime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//false 是质数 ， true是合数</span>

    <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    isPrime<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isPrime<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            prime<span class="token punctuation">[</span>cnt<span class="token operator">++</span><span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//遍历当前已经放入 prime里的所有质数； i在这里是倍数（由于每一个合数都是 由 若干质数之积 而得到的）</span>
        <span class="token comment">//所以这里淘汰的 数是  i*prime[j]  即一个质数的 i 倍</span>
        <span class="token comment">//另外，每一遍用的i都是不一样的，所以质数的i倍数在每一轮也是不一样的，所以不存在重复淘汰的情况。</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> cnt <span class="token operator">&amp;&amp;</span> i<span class="token operator">*</span>prime<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;=</span>n <span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            isPrime<span class="token punctuation">[</span>i<span class="token operator">*</span>prime<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>  
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token operator">%</span>prime<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">//用 最小质因子筛掉  i*prime[j] ;也是其达到线性复杂度的关键因素！！！</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token comment">//当i是某个元素的倍数时 , 例如4*2 =8 ，可以筛掉8 ； 但是4*3=12 就不用筛了</span>
                <span class="token comment">//因为 4是2的倍数；12可以等到6*2的时候 由 2 来将其筛掉。</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>线性筛是线性复杂度的原因：</p> <blockquote><p>对于每一个数而言，他只需要做两件事情：</p> <ul><li><p>一个是判断自己是否是质数</p></li> <li><p>另一个是把自己当做倍数去把后面的数给筛掉（当然这一步在i*prime[j]大于n的时候是不需要做的）</p></li></ul></blockquote> <h2 id="_4-9-位运算"><a href="#_4-9-位运算" class="header-anchor">#</a> 4.9 位运算</h2> <p><strong>位运算符</strong>
&amp;与
| 或
^ 异或 ： 异或的特性 与自己本身相异或会消除   a^a = 0 ，这个可以用于找  <strong>数组中唯一重复的数</strong>
~非</p> <blockquote><p>空集.............................0
只含有第i个元素的集合{i}............1&lt;&lt;i
含有全部n个元素的集合{0,1...n-1}....(1&lt;&lt;n)-1//含有n个元素的全集
判断第i个元素是否属于集合S...........if(S&gt;&gt;i&amp;1)
向集合中加入第i个元素S∪{i}..........s|1&lt;&lt;i
从集合中取出第i个元素...............s&amp;~(1&lt;&lt;i)
集合S和T的并集S∪T.................S|T
集合S和T的交集S∩T.................S&amp;T</p></blockquote> <p>1、一个数组 ， a有奇数个 ，other 偶数个；  找出a</p> <p>方案：全部进行异或</p> <p>2、一个数组，a，b有奇数个，other偶数个； 找出a,b</p> <p>方案：先全部异或 ， 异或结果为 a ^ b  ,  异或结果不为0 ，意味着存在一位不是0 ，找到最右边那个不是0的位 i</p> <p>将原数组，根据 第i位 是否为1 ，分为2个 ，其中一个数组中有 a ，另一个数组中 有b</p> <p>再将其中一个数组全部异或 ，找出a ，再找出b。</p> <blockquote><p>s&amp;(1&lt;&lt;i)</p> <p>例子:假如s:1101(2进制),i=2(10进制),1&lt;&lt;i=100(2进制)，这时1101&amp;0100 = 0100,然后我们就可以通过判断s&amp;(1&lt;&lt;i) 等不等于0来确定s(2进制)                  第i+1位是0还是1了</p></blockquote> <blockquote><p>s^(1&lt;&lt;i) 例子，假如s:1101(2进制),i=2(10进制),1&lt;&lt;i=100(2进制)，这时1101 ^ 0100 = 1001(我们就可以将s(2进制)的第i位变成0了)</p></blockquote> <p>例如：从 1∼n 这 n 个整数中随机选取任意多个，输出所有可能的选择方案。</p> <p>思路: 可以理解为 1-n  这 n位上 ，每一位都有两种选择，1要么选2要么不选   所以可以用  二进制数来表示所有的状态</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token class-name">Scanner</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> num <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token operator">&lt;&lt;</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="_4-10-差分"><a href="#_4-10-差分" class="header-anchor">#</a> 4.10 差分</h2> <p>经典题型：</p> <p>有一个由n个元素所组成的数组a，有m次操作每次操作对数组第x个元素到第y个元素+z，操作完成后a数组序列输出。</p> <p>差分基本概念</p> <div class="language- extra-class"><pre class="language-text"><code>a[1],a[2],.…a[n]
b[i]=a[i]-a[i-1],b[1]=a[1]

a[i]=b[1]+b[2]+.…+b[i]
    =a[1]+a[2]-a[1]+a[3]-a[2]+.…+a[i]-a[i-1]
</code></pre></div><p>由此可见，原数组就是差分数组的前缀和。我们可以举个例子：</p> <p>原始数组：9  3  6  2  6  8
差分数组：9 -6  3 -4  4  2
现在有一个任务，在区间[ l , r ]上加一个常数c。</p> <p>我们可以利用原数组就是差分数组的前缀和这个特性</p> <p><strong>思路</strong></p> <blockquote><ol><li>定义一个新的整型数组b</li> <li>针对数组第x个元素到第y个元素+z操作 操作数组b[x]+=z, b[y+1]-=z</li> <li>之后对数组b求前缀和（针对2、3多余的b[y+1]经过前缀和操作后会被抵消）</li> <li>最终打印下标数组即可对应最终答案为a[i]+b[i]</li></ol></blockquote> <p>适用的题目：对于那种区间问题、覆盖问题、区间叠加问题。</p> <p>还可以改变为2维差分去做。</p> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">int</span> maxx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//用于保存x和y的最大值</span>
	<span class="token keyword">int</span> maxy <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	
	<span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">int</span> x1 <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> y1 <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> x2 <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> y2 <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		maxx <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxx<span class="token punctuation">,</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> x2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		maxy <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxy<span class="token punctuation">,</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>y1<span class="token punctuation">,</span> y2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		x2<span class="token operator">--</span><span class="token punctuation">;</span>y2<span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment">//因为重复的部分是格子，所以要将右边范围-1，以下是二维差分</span>
		b<span class="token punctuation">[</span>x1<span class="token punctuation">]</span><span class="token punctuation">[</span>y1<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		b<span class="token punctuation">[</span>x1<span class="token punctuation">]</span><span class="token punctuation">[</span>y2 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		b<span class="token punctuation">[</span>x2 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y1<span class="token punctuation">]</span> <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		b<span class="token punctuation">[</span>x2 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y2 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span> 
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> ou <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> ji <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">&lt;=</span> maxx<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>j <span class="token operator">&lt;=</span> maxy<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>  <span class="token operator">-</span> b<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//二维前缀和</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
					ou<span class="token operator">++</span><span class="token punctuation">;</span>
				<span class="token keyword">else</span> 
					ji<span class="token operator">++</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p>原文链接：https://blog.csdn.net/jinjinbu/article/details/125237031</p> <h2 id="_4-11-背包九讲"><a href="#_4-11-背包九讲" class="header-anchor">#</a> 4.11 背包九讲</h2> <p><img src="https://s2.loli.net/2022/07/05/32s8mG1lJazCnEk.png" alt="截图"></p> <p>一般只需要掌握01背包和完全背包即可，多重背包本质上就是01背包，可以转化过去。</p> <p>详细见：代码随想录 动态规划 题目11-28</p> <h3 id="_4-1-11-01背包"><a href="#_4-1-11-01背包" class="header-anchor">#</a> 4.1.11 01背包</h3> <blockquote><p>有 N件物品和一个容量为 V 的背包，每件物品有各自的价值且只能被选择一次，要求在有限的背包容量下，装入的物品总价值最大。</p></blockquote> <div class="language-c_cpp extra-class"><pre class="language-text"><code>int main() 
{
    int n, m;   
    cin &gt;&gt; n &gt;&gt; m;
    for(int i = 1; i &lt;= n; i++) 
        cin &gt;&gt; v[i] &gt;&gt; w[i];

    for(int i = 1; i &lt;= n; i++) 
        for(int j = 1; j &lt;= m; j++)
        {
            //  当前背包容量装不进第i个物品，则价值等于前i-1个物品
            if(j &lt; v[i]) 
                f[i][j] = f[i - 1][j];
            // 能装，需进行决策是否选择第i个物品
            else    
                f[i][j] = max(f[i - 1][j], f[i - 1][j - v[i]] + w[i]);
        }           

    cout &lt;&lt; f[n][m] &lt;&lt; endl;

    return 0;
}

状态f[i][j]定义：对于前 i 个物品，背包容量为 j 下  的最优解（最大价值）
</code></pre></div><p>回溯法</p> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">backtrace</span><span class="token punctuation">(</span><span class="token keyword">int</span> w <span class="token punctuation">,</span><span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> weight <span class="token punctuation">,</span><span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> value <span class="token punctuation">,</span> <span class="token keyword">int</span> index <span class="token punctuation">,</span><span class="token keyword">int</span> <span class="token class-name">V</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>w<span class="token operator">&gt;=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token class-name">V</span><span class="token operator">&gt;</span>max<span class="token punctuation">)</span>
            max<span class="token operator">=</span><span class="token class-name">V</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index<span class="token operator">==</span>weight<span class="token punctuation">.</span>length <span class="token operator">||</span> w<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">backtrace</span><span class="token punctuation">(</span>w<span class="token operator">-</span>weight<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span>weight<span class="token punctuation">,</span>value<span class="token punctuation">,</span>index<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token operator">+</span>value<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//选了第index个物品</span>
            <span class="token function">backtrace</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span>weight<span class="token punctuation">,</span>value<span class="token punctuation">,</span>index<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//不选第index个物品</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
</code></pre></div><p><strong>滚动数组(一维的01背包  <strong>最常用</strong>)  必须掌握！！！</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> weight<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 遍历物品</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> bagWeight<span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 遍历背包容量（从上往下遍历，保证每个物品只放一次）</span>
        dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span>的理解：容量为j的背包，能放的最大价值。

当遍历到第i个物品时：此时的dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span>的含义是，如果只能用<span class="token number">0</span><span class="token operator">-</span>i这些物品，每件物品只能放<span class="token number">1</span>次，容量为j的背包的最大价值。
最后输出dp<span class="token punctuation">[</span>bagWeight<span class="token punctuation">]</span>，bagWeight为背包的最大容量。
</code></pre></div><p>倒序遍历是为了保证物品i只被放入一次！。但如果一旦正序遍历了，那么物品0就会被重复加入多次！</p> <p>举一个例子：物品0的重量weight[0] = 1，价值value[0] = 15</p> <p><strong>！！！求装满背包有几种方法</strong>，递推公式一般都是dp[j] += dp[j - nums[i]];</p> <p>ps：dp[j]代表容量装满为 j 时的方法数。</p> <div class="language-java extra-class"><pre class="language-java"><code> <span class="token comment">//经典01背包</span>
		dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> target<span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+=</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> dp<span class="token punctuation">[</span>target<span class="token punctuation">]</span><span class="token punctuation">;</span>

ps<span class="token operator">:</span>可能会觉得代码有问题，比如当target取<span class="token number">6</span>，然后nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>为<span class="token number">3</span>时，会出现dp<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token operator">=</span>dp<span class="token punctuation">[</span><span class="token number">6</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span>这种情况，好像是<span class="token number">3</span><span class="token operator">+</span><span class="token number">3</span>，重复了，其实不然。
    另外一个<span class="token number">3</span>可能是<span class="token number">1</span><span class="token operator">+</span><span class="token number">2</span>来得到的，所以没有重复，最后<span class="token number">6</span>是由<span class="token number">1</span><span class="token operator">+</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">3</span>得到的。
</code></pre></div><blockquote><p><strong>关键的关键！！！</strong></p> <p><strong>如果求组合数就是外层for循环遍历物品，内层for遍历背包。</strong>（组合数，对于顺序无关，所以要去重，遍历物品的话，每一次放得都是新物品，所以不会重复）</p> <p><strong>如果求排列数就是外层for遍历背包，内层for循环遍历物品。</strong>（排序树，放得位置不同，也算不同情况，所以每一次都可以从0-n件物品中选择一件放入）</p> <p>01背包内循环为<strong>倒序</strong>（j--，每个物品只能选一次）  完全背包内循环为<strong>正序</strong>（j++,每个物品可以选择多次）</p></blockquote> <p>解题步骤：</p> <ul><li>先确定是排列问题还是组合问题</li> <li>在确定是01背包还是完全背包，即物品是否可以重复放</li></ul> <h3 id="_4-11-2-完全背包"><a href="#_4-11-2-完全背包" class="header-anchor">#</a> 4.11.2 完全背包</h3> <p>有N件物品和一个最多能背重量为W的背包。第i件物品的重量是weight[i]，得到的价值是value[i] 。每件物品都有无限个（也就是可以放入背包多次），求解将哪些物品装入背包里物品价值总和最大。</p> <p><strong>完全背包和01背包问题唯一不同的地方就是，每种物品有无限件。</strong></p> <p>01背包和完全背包唯一不同就是体现在遍历顺序上</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 先遍历物品，再遍历背包</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> weight<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 遍历物品</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> bagWeight <span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 遍历背包容量  这里是关键（从下往上遍历,这里的j是升序的）</span>
        dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span>的理解：容量为j的背包，能放的最大价值。

当遍历到第i个物品时：此时的dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span>的含义是，如果只能用<span class="token number">0</span><span class="token operator">-</span>i这些物品，允许重复放的情况下，容量为j的背包的最大价值。
</code></pre></div><p>！！！！！！！！！！！！！！！！！！！完全背包问题常用的 解题 题目</p> <p>类似于 数的拼凑 问题</p> <p>1：将数 n 分成 若干正整数之和 的方案数 （求的是组合数）</p> <p>2：爬楼梯 ，每次跳1,2,3格， 问到达第n层的方案数（求得是排列数）</p> <p>例：n分成 2的幂 之和 的 方案数】   这里mi[1-t]数组是 物品 ； 1-n是背包；dp[1-n]是组合数；</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">/</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> mi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>t<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> t<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mi<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">long</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> dp <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token keyword">long</span><span class="token punctuation">[</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>


这里求的是组合数！！！
<span class="token comment">//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span>
    dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> t <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> mi<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span>dp<span class="token punctuation">[</span>j<span class="token operator">-</span>mi<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">//放该物品的方法数 + 不放该物品的方法数（本身）</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token comment">//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span>


    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><p>这里mi[1-t]数组是 物品 ； 1-n是背包； dp[1-n]是排列数；</p> <p>这里求的排列数！！！</p> <div class="language-java extra-class"><pre class="language-java"><code>  dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> t<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token operator">&gt;=</span>mi<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
              dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+=</span>dp<span class="token punctuation">[</span>i<span class="token operator">-</span>mi<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

  <span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">1 分钟前</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/算法与数据结构/3 十大排序.html" class="prev">
        3 十大排序算法
      </a></span> <span class="next"><a href="/算法与数据结构/5 经典习题.html">
        5 经典习题
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6d855320.js" defer></script><script src="/assets/js/2.d4ff5c60.js" defer></script><script src="/assets/js/90.bc109fb6.js" defer></script>
  </body>
</html>
